version: 1
matrix:
  # Core setup (synthetic-only, MemoryPair-only)
  algo: memorypair
  accountant: zcdp
  max_events: 20000
  bootstrap_iters: 1000

  # Regret budget: gamma_bar and gamma_split are PAIRED BY INDEX (not crossed)
  # Rationale: ~95% pass needs γ̄ ≈ 0.21–0.33 depending on PT; 0.64–0.74 split performed best.
  gamma_bar:   [0.22, 0.28, 0.32, 0.36]
  gamma_split: [0.64, 0.67, 0.70, 0.74]

  # Deletion workload and privacy budget (ρ now meaningful)
  delete_ratio: [1, 5, 20]       # include light + heavy deletes; 3≈5 empirically similar
  rho_total: [0.25, 0.5, 1.0, 2.0]
  delta_total: 1e-5
  delta_b: 0.05                  # regret bound failure prob for delete term
  m_max: null                    # let optimizer choose

  # Calibrator
  quantile: [0.95]
  D_cap: 10.0
  ema_beta: 0.9

  # Strong convexity + learning policy
  strong_convexity: true
  lambda_reg: [0.01, 0.05]
  lambda_: 0.05                  # passed to zCDP accountant

  # Theory-first synthetic stream (vary PT; ST fixed)
  dim: 20
  path_style: rotating
  target_G: 2.0
  target_D: 2.0
  target_c: 0.1
  target_C: 10.0
  target_lambda: 0.05
  target_PT: [100.0, 250.0, 400.0]
  target_ST: [40000.0]

  # Disable oracle for simpler regret (zero-baseline fallback is used)
  enable_oracle: false

  # Logging/odometer (kept explicit now that ρ is fixed)
  log_privacy_spend: true
  odometer_mode: running

  # Cosmetic/file naming compatibility
  eps_total: 1.0
